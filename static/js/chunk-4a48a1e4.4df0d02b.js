(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a48a1e4"],{"1eea":function(t,e,a){"use strict";var s=a("d689"),r=a.n(s);r.a},3846:function(t,e,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},"52f8":function(t,e,a){"use strict";var s=a("8c4e"),r=a.n(s);r.a},"6b54":function(t,e,a){"use strict";a("3846");var s=a("cb7c"),r=a("0bfb"),i=a("9e1e"),l="toString",n=/./[l],o=function(t){a("2aba")(RegExp.prototype,l,t,!0)};a("79e5")(function(){return"/a/b"!=n.call({source:"a",flags:"b"})})?o(function(){var t=s(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?r.call(t):void 0)}):n.name!=l&&o(function(){return n.call(this)})},"8c4e":function(t,e,a){},ad8f:function(t,e,a){"use strict";a.d(e,"a",function(){return r}),a.d(e,"b",function(){return i});var s=a("365c");function r(t){var e="/getPageData1";return s["a"].get(e,t)}function i(){var t="/getPageData2";return s["a"].get(t)}},c0a4:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"className"},[a("el-card",{staticClass:"anoCard"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("复杂操作表格")])]),a("div",{staticClass:"searchDiv"},[a("el-input",{staticClass:"width1",attrs:{type:"text",placeholder:"请输入订单号"},model:{value:t.sch_order,callback:function(e){t.sch_order=e},expression:"sch_order"}}),a("el-select",{staticClass:"width1",attrs:{clearable:"",placeholde:"请选择状态"},model:{value:t.sch_status,callback:function(e){t.sch_status=e},expression:"sch_status"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),a("el-date-picker",{staticClass:"width1",attrs:{type:"date",placeholder:"选择日期时间","value-format":"yyyy-MM-dd"},model:{value:t.sch_date,callback:function(e){t.sch_date=e},expression:"sch_date"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){return t.searchTab()}}},[t._v("搜索")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:t.addTab}},[t._v("添加")])],1),a("el-table",{attrs:{data:t.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"序号",width:"60"}}),a("el-table-column",{attrs:{prop:"order",label:"订单号"}}),a("el-table-column",{attrs:{prop:"time",label:"下单时间"}}),a("el-table-column",{attrs:{prop:"address",label:"配送地址",width:"210"}}),a("el-table-column",{attrs:{prop:"phone",label:"联系电话"}}),a("el-table-column",{attrs:{prop:"name",label:"配送员",width:"70"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:t._f("tagClass")(e.row.status)}},[t._v(t._s(t._f("statusText")(e.row.status)))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.editTable(e.$index,e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"warning",disabled:1!==e.row.status},on:{click:function(a){return t.toConfirm(e.row)}}},[t._v("审核")]),a("el-button",{attrs:{type:"success",disabled:2!==e.row.status},on:{click:function(a){return t.toSuccess(e.row)}}},[t._v("完成")]),a("el-button",{attrs:{type:"danger",disabled:3===e.row.status},on:{click:function(a){return t.toDelete(e.row)}}},[t._v("取消")])]}}])})],1),a("el-pagination",{staticClass:"fyDiv",attrs:{background:"",layout:"total, sizes, prev, pager, next","page-sizes":t.pageSizes,"page-size":t.pageSize,"current-page":t.currentPage,total:t.total},on:{"size-change":t.handleSize,"current-change":t.handlePage}})],1),a("el-dialog",{staticClass:"diaForm",attrs:{title:"订单修改",visible:t.diaIsShow},on:{"update:visible":function(e){t.diaIsShow=e}}},[a("el-form",{ref:"diaForm",attrs:{model:t.formData,rules:t.rules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"订单号"}},[a("el-input",{attrs:{type:"text",disabled:!0},model:{value:t.formData.order,callback:function(e){t.$set(t.formData,"order",e)},expression:"formData.order"}})],1),a("el-form-item",{attrs:{label:"订单时间",prop:"time"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.formData.time,callback:function(e){t.$set(t.formData,"time",e)},expression:"formData.time"}})],1),a("el-form-item",{attrs:{label:"配送地址",prop:"address"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入地址"},model:{value:t.formData.address,callback:function(e){t.$set(t.formData,"address",e)},expression:"formData.address"}})],1),a("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入电话"},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1),a("el-form-item",{attrs:{label:"配送员",prop:"name"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入姓名"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholde:"请选择状态"},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.changeTab("diaForm",t.editType)}}},[t._v("确认")]),a("el-button",{on:{click:function(e){t.diaIsShow=!1}}},[t._v("取消")])],1)],1)],1)],1)},r=[],i=(a("6b54"),a("f559"),a("ac4d"),a("8a81"),a("ac6a"),a("ad8f")),l={data:function(){return{tableData:[],allList:[],schArr:[],sch_order:"",sch_status:null,sch_date:null,currentPage:1,pageSize:10,total:0,pageSizes:[10,20,30,40],diaIsShow:!1,formData:{},editType:"",options:[{label:"待审核",value:1},{label:"配送中",value:2},{label:"已完成",value:0},{label:"已取消",value:3}],rowIndex:0,rules:{time:[{required:!0,message:"请输入时间",trigger:"change"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}],phone:[{required:!0,message:"请输入联系方式",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],status:[{required:!0,message:"请选择订单状态",trigger:"change"}]}}},created:function(){this._getPageTab2()},filters:{statusText:function(t){if(void 0!==t)return 0===t?"已完成":1===t?"待审核":2===t?"配送中":"已取消"},tagClass:function(t){if(void 0!==t)return 0===t?"success":1===t?"info":2===t?"warning":"danger"}},methods:{handleSize:function(t){this.pageSize=t,this.getPageData()},handlePage:function(t){this.currentPage=t,this.getPageData()},_getPageTab2:function(){var t=this;Object(i["b"])().then(function(e){t.allList=e.data.tableList,t.schArr=t.allList,t.getPageData(),t.total=e.data.total}).catch(function(e){t.$message.error(e.message)})},getPageData:function(){var t=(this.currentPage-1)*this.pageSize,e=t+this.pageSize;this.tableData=this.schArr.slice(t,e)},searchTab:function(){var t=[],e=!0,a=!1,s=void 0;try{for(var r,i=this.allList[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var l=r.value;if(""===this.sch_order.trim()&&null===this.sch_status&&null===this.sch_date){t=this.allList;break}if(l.order.startsWith(this.sch_order)&&(null===this.sch_status||l.status===this.sch_status)&&(null===this.sch_date||l.time.startsWith(this.sch_date))){var n=Object.assign({},l);t.push(n)}}}catch(o){a=!0,s=o}finally{try{e||null==i.return||i.return()}finally{if(a)throw s}}this.schArr=t,this.total=t.length,this.currentPage=1,this.pageSize=10,this.getPageData()},addTab:function(){var t=this;this.formData={},this.diaIsShow=!0,this.formData.order=(1e19*Math.random()).toString(),this.formData.id=this.allList.length+1,this.editType="add",this.$nextTick(function(){t.$refs.diaForm.clearValidate()})},toConfirm:function(t){t.status=2,this.$notify({title:"成功",message:"审核提交成功",type:"success"})},toSuccess:function(t){t.status=0,this.$notify({title:"成功",message:"该订单已完成配送",type:"success"})},toDelete:function(t){t.status=3,this.$notify({title:"成功",message:"已取消该订单",type:"success"})},editTable:function(t,e){var a=this;this.formData=Object.assign({},e),this.editType="update",this.diaIsShow=!0,this.$nextTick(function(){a.$refs.diaForm.clearValidate()}),this.rowIndex=t},changeTab:function(t,e){var a=this;this.$refs[t].validate(function(t){if(t){if("update"===e){var s=(a.currentPage-1)*a.pageSize;a.allList[s+a.rowIndex]=Object.assign({},a.formData),a.$set(a.tableData,a.rowIndex,Object.assign({},a.formData)),a.$notify({title:"成功",message:"订单已修改成功",type:"success"})}else a.tableData.unshift(Object.assign({},a.formData)),a.allList.push(Object.assign({},a.formData));a.diaIsShow=!1}})}}},n=l,o=(a("1eea"),a("52f8"),a("2877")),c=Object(o["a"])(n,s,r,!1,null,"0b3e6766",null);e["default"]=c.exports},d689:function(t,e,a){},f559:function(t,e,a){"use strict";var s=a("5ca1"),r=a("9def"),i=a("d2c8"),l="startsWith",n=""[l];s(s.P+s.F*a("5147")(l),"String",{startsWith:function(t){var e=i(this,t,l),a=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),s=String(t);return n?n.call(e,s,a):e.slice(a,a+s.length)===s}})}}]);